var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(to,from,pack){if(pack||2===arguments.length)for(var i=0,l=from.length,ar;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))};module.exports={InputError:function(_super){function class_1(message){var _this=_super.call(this,message)||this;return _this.name="Fortissimo - InputError",_this}return __extends(class_1,_super),class_1}(Error),EnvError:function(_super){function class_2(message){var _this=_super.call(this,"Current environment does not support ".concat(message))||this;return _this.name="Fortissimo - EnvError",_this}return __extends(class_2,_super),class_2}(Error),DormantError:function(_super){function DormantError(){var _this=_super.call(this,"This function is not implemented yet! Try use an older version, or hold tight!")||this;return _this.name="Fortissimo - DormantError",_this}return __extends(DormantError,_super),DormantError}(Error),env:{DOM:function(){try{window,document}catch(_a){return!1}return!0},NODE:function(){try{require}catch(_a){return!1}return!0}},fill:function(string,amount,char,reverse){void 0===amount&&(amount=10),void 0===char&&(char=" "),void 0===reverse&&(reverse=!1);var fill=char.repeat(Math.max(0,amount-string.length));return reverse?fill+string:string+fill},center:function(string,amount,char,preferLeft){void 0===amount&&(amount=10),void 0===char&&(char=" "),void 0===preferLeft&&(preferLeft=!1);var halfAmount=Math.max(0,amount-string.length)/2,fillFloor=char.repeat(Math.floor(halfAmount)),fillCeil=char.repeat(Math.floor(halfAmount));return preferLeft?fillCeil+string+fillFloor:fillFloor+string+fillCeil},isJSON:function(string){try{JSON.parse(string)}catch(_a){return!1}return!0},isURL:function(string){return/^(https?:\/\/)?((([a-z\d]([a-z\d-]*[a-z\d])*)\.)+[a-z]{2,}|((\d{1,3}\.){3}\d{1,3}))(\:\d+)?(\/[-a-z\d%_.~+]*)*(\?[;&a-z\d%_.~+=-]*)?(\#[-a-z\d_]*)?$/i.test(string)},isEmail:function(string){return/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/i.test(string)},capitalize:function(string,onlyFirst,lowerElse){if(void 0===onlyFirst&&(onlyFirst=!1),void 0===lowerElse&&(lowerElse=!1),!string)return string;if(onlyFirst&&lowerElse)return string[0].toUpperCase()+string.slice(1).toLowerCase();for(var array=string.split(" "),output="",i=0;i<array.length;i++)array[i]&&(output+=(i?" ":"")+(onlyFirst&&0!==i?array[i][0]:array[i][0].toUpperCase())+(lowerElse?array[i].slice(1).toLowerCase():array[i].slice(1)));return output},format:function(string){for(var replace=[],_i=1;_i<arguments.length;_i++)replace[_i-1]=arguments[_i];if(!replace||!string||"string"!=typeof string)return string;for(var i in"object"==typeof replace[0]&&(replace=replace[0]),replace)string=string.split("{"+i+"}").join(replace[i]);return string},truncate:function(string,length,char,includeChar){return void 0===length&&(length=3),void 0===char&&(char="..."),void 0===includeChar&&(includeChar=!1),string.length<=length?string:string.slice(0,length-(includeChar?char.length:0))+char},replace:function(string,old,char,onlyFirst){return void 0===onlyFirst&&(onlyFirst=!1),string&&"string"==typeof string?onlyFirst?string.replace(old,char):string.split(old).join(char):string},hash:function(string){if("string"!=typeof string)return 0;for(var hash=0,i=0;i<string.length;i++){var character;hash=(hash<<5)-hash+string.charCodeAt(i),hash&=hash}return hash},redact:function(string,amount,char){return void 0===amount&&(amount=3),void 0===char&&(char="*"),string.length<=length?string:amount<=0?char.repeat(string.length):string.slice(0,amount)+char.repeat(Math.max(0,string.length-amount))},splitAt:function(string,number){return string&&string.match(new RegExp(".{1,"+number+"}","g"))||[]},randomFloat:function(min,max){return max=Math.max(min,max),min=Math.min(min,max),Math.random()*(max-min)+min},randomInt:function(min,max){return Math.round(module.exports.randomFloat(min,max))},randomChoice:function(array){if(array)return array[module.exports.randomInt(0,array.length-1)]},round:function(number,decimals){return void 0===decimals&&(decimals=0),decimals=Math.pow(10,Math.floor(decimals)),Math.round(number*decimals)/decimals},floor:function(number,decimals){return void 0===decimals&&(decimals=0),decimals=Math.pow(10,Math.floor(decimals)),Math.floor(number*decimals)/decimals},ceil:function(number,decimals){return void 0===decimals&&(decimals=0),decimals=Math.pow(10,Math.floor(decimals)),Math.ceil(number*decimals)/decimals},border:function(number,min,max){return Math.max(min,Math.min(max,number))},wrap:function(number,min,max){return module.exports.mod(number-min,max-min)+min},hcf:function(a,b){for(var i=Math.floor(a/2);i>1;i--)if(!(a%i||b%i))return i;return 1},lcm:function(a,b){for(var i=1;i<b;i++)if(!(a*i%b))return a*i;return a*b},ordinal:function(number){if(isNaN(number))return"NaNth";switch((number=Math.floor(number)).toString().slice(-1)){case"1":return number+"st";case"2":return number+"nd";case"3":return number+"rd"}return number+"th"},bool2bin:function(){for(var values=[],_i=0;_i<arguments.length;_i++)values[_i]=arguments[_i];var string="";for(var i in values)string+=values[i]?1:0;return string},mod:function(a,b){return a-b*Math.floor(a/b)},mean:function(){for(var values=[],_i=0;_i<arguments.length;_i++)values[_i]=arguments[_i];for(var sum=0,amount=0,i=0;i<values.length;i++)"number"==typeof values[i]&&(sum+=values[i],amount++);return sum/amount},addCommas:function(number,ignoreDecimal,interval){void 0===ignoreDecimal&&(ignoreDecimal=!1),void 0===interval&&(interval=3);var string=number.toString().split(".")[0];length=interval-string.length%interval;var array=module.exports.splitAt("~".repeat(length>interval-1?0:Math.abs(length))+string,interval);array[0]=module.exports.replace(array[0],"~","");var decimals=number.toString().split(".")[1];return array.join(",")+(decimals?"."+(ignoreDecimal?decimals:module.exports.splitAt(decimals,interval).join(",")):"")},snap:function(number,array){throw new module.exports.DormantError},pythag:function(a,b){return Math.sqrt(Math.pow(a,2)+Math.pow(b,2))},apythag:function(a,c){return Math.sqrt(Math.pow(c,2)-Math.pow(a,2))},sleep:function(time){return new Promise((function(resolve){setTimeout(resolve,time)}))},parseTime:function(milliseconds,join,method){void 0===join&&(join=", "),void 0===method&&(method=function(item){return Math.floor(item.amount).toString()+" "+(1===Math.floor(item.amount)?item.singular:item.plural)});var units=[{amount:1e3,prefix:"s",singular:"second",plural:"seconds"},{amount:60,prefix:"m",singular:"minute",plural:"minutes"},{amount:60,prefix:"h",singular:"hour",plural:"hours"},{amount:24,prefix:"d",singular:"day",plural:"days"},{amount:7,prefix:"w",singular:"week",plural:"weeks"},{amount:4.34524,prefix:"M",singular:"month",plural:"months"},{amount:12,prefix:"Y",singular:"year",plural:"years"},{amount:10,prefix:"D",singular:"decade",plural:"decades"},{amount:10,prefix:"C",singular:"century",plural:"centuries"}],time=[{amount:milliseconds,prefix:"ms",singular:"millisecond",plural:"millisecond"}];for(var i in units){if(!(time[0].amount>=units[i].amount))break;time=time[0].amount%units[i].amount?__spreadArray([__assign(__assign({},units[i]),{amount:Math.floor(time[0].amount/units[i].amount)}),__assign(__assign({},time[0]),{amount:time[0].amount%units[i].amount})],time.slice(1),!0):__spreadArray([__assign(__assign({},units[i]),{amount:Math.floor(time[0].amount/units[i].amount)})],time.slice(1),!0)}return time.map(method).join(join)},getWeek:function(date){return void 0===date&&(date=new Date),date.setUTCDate(date.getUTCDate()+4-(date.getUTCDay()||7)),Math.ceil(((date.getTime()-Date.UTC(date.getUTCFullYear(),0,1))/864e5+1)/7)},removeItem:function(array,item,isIndex,onlyFirst){if(void 0===isIndex&&(isIndex=!1),void 0===onlyFirst&&(onlyFirst=!1),!array||array.length<=0)return array;if(isIndex)return __spreadArray(__spreadArray([],array.slice(0,item),!0),array.slice(item+1),!0);for(var removed=[],i=0;i<array.length;i++)if(array[i]!==item)removed.push(array[i]);else if(onlyFirst){removed=__spreadArray(__spreadArray([],removed,!0),array.slice(i+1),!0);break}return removed},shuffle:function(array){for(var i=array.length-1;i>0;i--){var j=Math.floor(Math.random()*(i+1)),x=array[i];array[i]=array[j],array[j]=x}return array},stringify:function(object,keySeperator,valueSeperator,indent){if(void 0===keySeperator&&(keySeperator=": "),void 0===valueSeperator&&(valueSeperator="\n"),void 0===indent&&(indent="  "),!object||"object"!=typeof object)return"";var output=[];for(var i in object){var value=object[i];value&&("object"==typeof value?value=value.constructor===Array?value.length>0?valueSeperator+indent+module.exports.stringify(value,keySeperator,valueSeperator+indent,indent):"[]":Object.keys(value).length>0?valueSeperator+indent+module.exports.stringify(value,keySeperator,valueSeperator+indent,indent):"{}":"function"==typeof value&&(value="function (".concat(module.exports.getParameters(value).join(", "),")"))),object.constructor!==Array?output.push([i]+keySeperator+value):output.push(value)}return output.join(valueSeperator)},sort:function(object,method){throw new module.exports.DormantError},deepCopy:function(object){if(object&&"object"==typeof object){if(object.constructor===Array){for(var copiedArray=new Array(object.length),i=0;i<object.length;i++)copiedArray[i]=module.exports.deepCopy(object[i]);return copiedArray}var copiedObject={};for(var j in object)copiedObject[j]=module.exports.deepCopy(object[j]);return copiedObject}return object},decircleJSON:function(object,markReference){void 0===markReference&&(markReference=null);var cache=[];return JSON.parse(JSON.stringify(object,(function(key,value){if(value&&"object"==typeof value){if(cache.includes(value))return markReference||void 0;cache.push(value)}return value})))},getParameters:function(func){var string=func.toString().replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,""),result=string.slice(string.indexOf("(")+1,string.indexOf(")")).match(/([^\s,]+)/g);return null===result?[]:result},toHex:function(number){if(0===number)return"00";if(number){var hex=Math.floor(number).toString(16).toUpperCase();if(hex)return 1===hex.length?"0"+hex:hex}throw new module.exports.InputError("`number` is not defined")},hex2rgb:function(hex){var string,number,string,number;if(/^#/.test(hex)||(hex="#"+hex),/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex))return 3===(string=hex.substring(1)).length&&(string=string[0]+string[0]+string[1]+string[1]+string[2]+string[2]),{r:(number=parseInt("0x"+string))>>16&255,g:number>>8&255,b:255&number,a:255};if(/^#([A-Fa-f0-9]{4}){1,2}$/.test(hex))return 4===(string=hex.substring(1)).length&&(string=string[0]+string[0]+string[1]+string[1]+string[2]+string[2]+string[3]+string[3]),{r:(number=parseInt("0x"+string))>>24&255,g:number>>16&255,b:number>>8&255,a:255&number};throw new module.exports.InputError("Unknown hex format")},hex2hsv:function(hex){throw new module.exports.DormantError},rgb2hex:function(rgb,ignoreOpacity){return void 0===ignoreOpacity&&(ignoreOpacity=!1),"#"+module.exports.toHex(rgb.r)+module.exports.toHex(rgb.g)+module.exports.toHex(rgb.b)+(ignoreOpacity?"":module.exports.toHex(Math.floor(rgb.a||0===rgb.a?rgb.a:255)))},rgb2hsv:function(rgb,round){void 0===round&&(round=!0);var r=round?Math.floor(rgb.r):rgb.r,g=round?Math.floor(rgb.g):rgb.g,b=round?Math.floor(rgb.b):rgb.b,a=rgb.a||0===rgb.a?round?Math.floor(rgb.a):rgb.a:255,max=Math.max(r,g,b),min=Math.min(r,g,b),difference=max-min,h=0,s=0===max?0:difference/max,v=max/255;switch(max){case min:h=0;break;case r:h=g-b+difference*(g<b?6:0);break;case g:h=b-r+2*difference,h/=6*difference;break;case b:h=r-g+4*difference,h/=6*difference}return round?{h:Math.round(100*h),s:Math.round(100*s),v:Math.round(100*v),a:Math.round(a*(100/255))}:{h:100*h,s:100*s,v:100*v,a:a*(100/255)}},hsv2hex:function(hsv,ignoreOpacity){throw void 0===ignoreOpacity&&(ignoreOpacity=!1),console.log(module.exports.hsv2rgb(hsv)),new module.exports.DormantError},hsv2rgb:function(hsv,round){void 0===round&&(round=!0);var h=round?Math.floor(hsv.h):hsv.h,s=round?Math.floor(hsv.s):hsv.s,v=round?Math.floor(hsv.v):hsv.v,a=hsv.a||0===hsv.a?round?Math.floor(hsv.a):hsv.a:255,i=Math.floor(6*h),f=6*h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),r=0,g=0,b=0;switch(i%6){case 0:r=v,g=t,b=p;break;case 1:r=q,g=v,b=p;break;case 2:r=p,g=v,b=t;break;case 3:r=p,g=q,b=v;break;case 4:r=t,g=p,b=v;break;case 5:r=v,g=p,b=q}return round?{r:Math.floor(255*r),g:Math.floor(255*g),b:Math.floor(255*b),a:Math.floor(2.55*a)}:{r:255*r,g:255*g,b:255*b,a:2.55*a}},randomHex:function(opacity){return void 0===opacity&&(opacity=!1),opacity?module.exports.rgb2hex({r:module.exports.randomInt(0,256),g:module.exports.randomInt(0,256),b:module.exports.randomInt(0,256),a:module.exports.randomInt(0,256)}):module.exports.rgb2hex({r:module.exports.randomInt(0,256),g:module.exports.randomInt(0,256),b:module.exports.randomInt(0,256)})},collide:{polygon:function(a,b){throw new module.exports.DormantError},rect2rect:function(a,b){return a.x+a.w>b.x&&a.x<b.x+b.w&&b.y+b.h>a.y&&b.y<a.y+a.h},rect2circle:function(a,b){throw new module.exports.DormantError},circle2circle:function(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))<a.r+b.r},distance:function(x1,y1,x2,y2){return Math.sqrt(Math.pow(x1-x2,2)+Math.pow(y1-y2,2))},coords2angle:function(x1,y1,x2,y2){return 1.5*Math.PI+Math.atan2(x2-x1,y1-y2)},angle2coords:function(x,y,angle,distance){return{x:x+distance*Math.cos(angle),y:y+distance*Math.sin(angle)}},trace:function(x,y,angle,density,maxDistance,callback){throw new module.exports.DormantError}},keys:{},mouse:{},setMouseOffset:function(offset){if(!module.exports.env.DOM())throw module.exports.EnvError("DOM");module.exports.mouse.offsetLeft=offset.left,module.exports.mouse.offsetTop=offset.top},mouseOver:function(element,ignoreOffset){if(void 0===ignoreOffset&&(ignoreOffset=!1),!module.exports.env.DOM())throw module.exports.EnvError("DOM");var rect=element.getBoundingClientRect();return module.exports.mouse.x>(ignoreOffset?0:rect.left)&&module.exports.mouse.y>(ignoreOffset?0:rect.top)&&module.exports.mouse.x<rect.width+rect.left&&module.exports.mouse.y<rect.height+rect.top},createListeners:function(){if(!module.exports.env.DOM())throw module.exports.EnvError("DOM");window.onkeydown=function(event){module.exports.keys[event.key]=!0,module.exports.keys[event.code]=!0,module.exports.keys[event.keyCode]=!0},window.onkeyup=function(event){delete module.exports.keys[event.key],delete module.exports.keys[event.code],delete module.exports.keys[event.keyCode]};for(var mouseEvents=["onclick","ondblclick","onmousemove","onmouseout","onmouseover","onmouseup"],i=0;i<mouseEvents.length;i++)window[mouseEvents[i]]=module.exports.setMouse;module.exports.mouseButtons=["left","middle","right","four","five"],window.onmousedown=function(event){module.exports.mouse[module.exports.mouseButtons[event.button]]=!0},window.onmouseup=function(event){module.exports.mouse[module.exports.mouseButtons[event.button]]=!1},addEventListener("touchstart",(function(event){module.exports.setMouse(event.touches[0]),module.exports.mouse.touchDown=!0,module.exports.mouse.isFirstTouch=!0})),addEventListener("touchmove",(function(event){module.exports.setMouse(event.touches[0]),module.exports.mouse.touchDown=!0})),addEventListener("touchend",(function(event){module.exports.mouse.touchDown=!1}))},parseControls:function(object){throw new module.exports.DormantError},setQuery:function(key,value){throw new module.exports.DormantError},setCaret:function(element,position){throw new module.exports.DormantError},getCaret:function(element){throw new module.exports.DormantError},copy:function(text){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(text).then((function(){}),(function(err){throw err}));else{var textArea=document.createElement("textarea");textArea.value=text,textArea.style.top="0",textArea.style.left="0",textArea.style.position="fixed",document.body.appendChild(textArea),textArea.focus(),textArea.select();try{document.execCommand("copy")}catch(err){throw err}document.body.removeChild(textArea)}},download:function(image){throw new module.exports.DormantError},fillCanvas:function(ctx){ctx.fillRect(0,0,ctx.canvas.width,ctx.canvas.height)},clearCanvas:function(ctx){ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height)},fillRoundRect:function(ctx,x,y,w,h,radius){void 0===radius&&(radius=Math.min(w,h)/2),radius||0===radius||(radius=Math.min(w,h)/2),w<2*radius&&(radius=w/2),h<2*radius&&(radius=h/2),ctx.beginPath(),ctx.moveTo(x+radius,y),ctx.arcTo(x+w,y,x+w,y+h,radius),ctx.arcTo(x+w,y+h,x,y+h,radius),ctx.arcTo(x,y+h,x,y,radius),ctx.arcTo(x,y,x+w,y,radius),ctx.fill()},strokeRoundRect:function(ctx,x,y,w,h,radius){void 0===radius&&(radius=Math.min(w,h)/2),radius||0===radius||(radius=Math.min(w,h)/2),w<2*radius&&(radius=w/2),h<2*radius&&(radius=h/2),ctx.beginPath(),ctx.moveTo(x+radius,y),ctx.arcTo(x+w,y,x+w,y+h,radius),ctx.arcTo(x+w,y+h,x,y+h,radius),ctx.arcTo(x,y+h,x,y,radius),ctx.arcTo(x,y,x+w,y,radius),ctx.stroke()},getCanvasPixel:function(canvas,x,y){throw new module.exports.DormantError},scanCanvas:function(canvas){throw new module.exports.DormantError}};